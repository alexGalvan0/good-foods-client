(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9134:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return s(5403)}])},9020:function(e,a,s){"use strict";var i=s(7294),t=s(594),l=s(1163);let n=()=>{let e=(0,l.useRouter)(),[a,s]=(0,i.useState)({});return(0,i.useEffect)(()=>{let a=localStorage.getItem("token"),i={headers:{Authorization:"Bearer ".concat(a)}},l=async()=>{if(a){let l=t.Z.get("https://8000-alexgalvan0-goodmoviesa-b4acnd9aawy.ws-us78.gitpod.io/api/user",i),n=await l;s(n.data[0])}else e.push("/login")};l()},[]),a};a.Z=n},5403:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return y}});var i=s(5893),t=s(9020),l=s(1664),n=s.n(l),c=s(5675),o=s.n(c),d=s(7294),r=s(594),x=s(5084),h=s(9837),m=s(2026),g=s(1359),u=s(9630),v=s(1163);function p(e){let{userName:a,userId:s,setFollowData:l}=e,n=(0,v.useRouter)(),c=(0,t.Z)(),o=async()=>{axios.delete("".concat("https://8000-alexgalvan0-goodmoviesa-b4acnd9aawy.ws-us78.gitpod.io/api/","follow/").concat(c.id,"/").concat(a,"/"))},d=()=>{n.push("user/".concat(s))};return(0,i.jsxs)(h.Z,{sx:{maxWidth:175,bgcolor:"secondary.grey"},children:[(0,i.jsx)(g.Z,{children:(0,i.jsxs)(u.Z,{variant:"h5",component:"div",color:"secondary.main",children:["@",a]})}),(0,i.jsxs)(m.Z,{className:"d-flex justify-content-around",children:[(0,i.jsx)(x.Z,{onClick:d,color:"secondary",sx:{bgcolor:"primary.main"},size:"small",children:"Visit"}),(0,i.jsx)(u.Z,{onClick:o,color:"primary.alert",children:"X"})]})]})}var f=s(8016),y=function(){let e=(0,t.Z)(),a="https://8000-alexgalvan0-goodmoviesa-b4acnd9aawy.ws-us78.gitpod.io/api/getUserLikedMovies/".concat(e.id,"/"),s="https://8000-alexgalvan0-goodmoviesa-b4acnd9aawy.ws-us78.gitpod.io/api/follow/".concat(e.id,"/").concat(e.username,"/"),l="https://8000-alexgalvan0-goodmoviesa-b4acnd9aawy.ws-us78.gitpod.io/api/getUserWatchedMovies/".concat(e.id,"/"),[c,h]=(0,d.useState)([]),[m,g]=(0,d.useState)([]),[v,y]=(0,d.useState)([]);(0,d.useEffect)(()=>{let i=localStorage.getItem("token"),t={headers:{Authorization:"Bearer ".concat(i)}},n=async()=>{let e=await r.Z.get(a,t),s=e.data;h(s)},c=async()=>{let e=await r.Z.get(s,t),a=e.data;g(a)},o=async()=>{let e=await r.Z.get(l,t),a=e.data;y(a)};void 0!=e.id&&(n(),c(),o())},[e]);let j=async s=>{await r.Z.delete("https://8000-alexgalvan0-goodmoviesa-b4acnd9aawy.ws-us78.gitpod.io/api/addLikedList/".concat(e.id,"/").concat(s,"/"));let i=await r.Z.get(a);h(i.data)},w=async a=>{await r.Z.delete("https://8000-alexgalvan0-goodmoviesa-b4acnd9aawy.ws-us78.gitpod.io/api/addWatchedList/".concat(e.id,"/").concat(a,"/"));let s=await r.Z.get(l);y(s.data)},b=async a=>{await r.Z.delete();let s=await r.Z.get("https://8000-alexgalvan0-goodmoviesa-b4acnd9aawy.ws-us78.gitpod.io/api/follow/".concat(e.id,"/").concat(e.username,"/"));g(s.data)};return(0,i.jsxs)("div",{className:"container mt-3",children:[(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col",children:(0,i.jsx)("div",{className:" mb-3 bg-primary rounded-3",children:(0,i.jsxs)("div",{className:"container-fluid py-3",children:[(0,i.jsxs)("h1",{className:"display-5 fw-bold text-light",children:["@",e.username?e.username:null]}),(0,i.jsxs)("div",{className:"d-flex flex-md-column gap-2",children:[(0,i.jsxs)("h6",{className:"text-light",children:[" ","Liked: ",(0,i.jsx)("strong",{children:c.length})]}),(0,i.jsxs)("h6",{className:"text-light",children:[" ","Watched: ",(0,i.jsx)("strong",{children:v.length})]}),(0,i.jsxs)("h6",{className:"text-light",children:[" ","Following: ",(0,i.jsx)("strong",{children:m.length})]})]}),(0,i.jsx)(n(),{href:"movie/search",children:(0,i.jsx)(x.Z,{sx:{bgcolor:"primary.main"},color:"secondary",children:"Search Movies"})})]})})})}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)(f.Z,{sx:{bgcolor:"secondary.grey"},children:(0,i.jsxs)(u.Z,{color:"secondary.main",variant:"h5",children:["Liked Movies:"," "]})}),(0,i.jsx)(f.Z,{className:" d-flex gap-3 mb-3 py-2 ",sx:{bgcolor:"secondary.grey"},style:{maxHeight:"40rem",overflow:"hidden",overflow:"auto"},children:Array.isArray(c)&&c.map(e=>(0,i.jsx)("div",{className:"col d-flex flex-column",children:(0,i.jsxs)("div",{children:[(0,i.jsx)(x.Z,{sx:{marginBottom:-4.5,paddingLeft:17.5,paddingRight:0},varient:"text",color:"alert",size:"large",onClick(){j(e.imdbId)},className:"btn-alert",children:"x"}),(0,i.jsx)(n(),{style:{textDecoration:"none"},href:"/movie/".concat(e.imdbId),children:(0,i.jsxs)("div",{className:"d-flex text-center",children:[(0,i.jsx)(o(),{src:e.poster,alt:"",height:200,width:150},e.imdbId+"i"),(0,i.jsx)("div",{className:"d-flex flex-column align-items-center"})]})},e.imdbId+"m")]})},e.imdbId))}),(0,i.jsx)(f.Z,{sx:{bgcolor:"secondary.grey"},children:(0,i.jsxs)(u.Z,{color:"secondary.main",variant:"h5",children:["Watched Movies:"," "]})}),(0,i.jsx)(f.Z,{className:" d-flex gap-3 mb-3 py-2 ",sx:{bgcolor:"secondary.grey"},style:{maxHeight:"40rem",overflow:"hidden",overflow:"auto"},children:Array.isArray(v)&&v.map(e=>(0,i.jsx)("div",{className:"col d-flex flex-column",children:(0,i.jsxs)("div",{children:[(0,i.jsx)(x.Z,{sx:{marginBottom:-4.5,paddingLeft:17.5,paddingRight:0},varient:"text",color:"alert",size:"large",onClick(){w(e.imdbId)},className:"btn-alert",children:"x"}),(0,i.jsx)(n(),{style:{textDecoration:"none"},href:"/movie/".concat(e.imdbId),children:(0,i.jsxs)("div",{className:"d-flex text-center",children:[(0,i.jsx)(o(),{src:e.poster,alt:"",height:200,width:150},e.imdbId+"i"),(0,i.jsx)("div",{className:"d-flex flex-column align-items-center"})]})},e.imdbId+"m")]})},e.imdbId))})]}),(0,i.jsx)("div",{className:"row pb-5 mb-5",children:(0,i.jsxs)("div",{className:"col px-xl-5 d-flex flex-column justify-content-center",children:[(0,i.jsx)(f.Z,{sx:{bgcolor:"secondary.grey"},className:"rounded",children:(0,i.jsxs)(u.Z,{color:"secondary.main",variant:"h5",children:["Following:"," "]})}),(0,i.jsx)("div",{className:"col mt-2 px-xl-5 d-flex flex-wrap gap-3",children:m.map(e=>(0,i.jsx)("div",{className:"col",children:(0,i.jsx)(p,{onClick(){b(e.username)},userName:e.username,userId:e.id})},e.id))})]})})]})}}},function(e){e.O(0,[594,344,793,774,888,179],function(){return e(e.s=9134)}),_N_E=e.O()}]);